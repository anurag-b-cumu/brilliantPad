"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/invoices";
exports.ids = ["pages/api/invoices"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finvoices&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cinvoices%5Cindex.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finvoices&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cinvoices%5Cindex.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_invoices_index_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\invoices\\index.ts */ \"(api)/./src/pages/api/invoices/index.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_invoices_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_invoices_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/invoices\",\n        pathname: \"/api/invoices\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_invoices_index_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmludm9pY2VzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGc3JjJTVDcGFnZXMlNUNhcGklNUNpbnZvaWNlcyU1Q2luZGV4LnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ2tFO0FBQ2xFO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyw2REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsNkRBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJpbGxpYW50LXBhZC8/MzQwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjXFxcXHBhZ2VzXFxcXGFwaVxcXFxpbnZvaWNlc1xcXFxpbmRleC50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2ludm9pY2VzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvaW52b2ljZXNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finvoices&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cinvoices%5Cindex.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/lib/email.ts":
/*!**************************!*\
  !*** ./src/lib/email.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendInvoiceEmail: () => (/* binding */ sendInvoiceEmail),\n/* harmony export */   sendPaymentConfirmationEmail: () => (/* binding */ sendPaymentConfirmationEmail)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);\n\nconst transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default().createTransport({\n    host: process.env.EMAIL_SERVER,\n    port: 465,\n    secure: true,\n    auth: {\n        user: process.env.EMAIL_FROM,\n        pass: process.env.EMAIL_PASSWORD\n    },\n    tls: {\n        // Do not fail on invalid certificates\n        rejectUnauthorized: false\n    }\n});\n// Verify the connection configuration\ntransporter.verify(function(error, success) {\n    if (error) {\n        console.log(\"SMTP connection error:\", error);\n    } else {\n        console.log(\"SMTP server is ready to take our messages\");\n    }\n});\nasync function sendInvoiceEmail(invoice) {\n    try {\n        const customerEmail = {\n            from: `Brilliant Pad Store <${process.env.EMAIL_FROM}>`,\n            to: invoice.customerEmail,\n            subject: \"Your Invoice from Brilliant Pad Store\",\n            html: `\r\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\r\n          <h1 style=\"color: #2563eb;\">Thank you for your purchase!</h1>\r\n          <p>Your invoice number: <strong>${invoice._id}</strong></p>\r\n          <p>Total amount: <strong>$${invoice.totalAmount}</strong></p>\r\n          <p>\r\n            <a \r\n              href=\"${process.env.NEXTAUTH_URL}/invoice/${invoice._id}\"\r\n              style=\"background-color: #2563eb; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block; margin-top: 10px;\"\r\n            >\r\n              View Invoice and Complete Payment\r\n            </a>\r\n          </p>\r\n        </div>\r\n      `\n        };\n        const storeOwnerEmail = {\n            from: `Brilliant Pad Store <${process.env.EMAIL_FROM}>`,\n            to: process.env.EMAIL_FROM,\n            subject: \"New Invoice Generated\",\n            html: `\r\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\r\n          <h1 style=\"color: #2563eb;\">New Invoice Generated</h1>\r\n          <p>Invoice number: <strong>${invoice._id}</strong></p>\r\n          <p>Customer: <strong>${invoice.customerName}</strong></p>\r\n          <p>Email: <strong>${invoice.customerEmail}</strong></p>\r\n          <p>Total amount: <strong>$${invoice.totalAmount}</strong></p>\r\n        </div>\r\n      `\n        };\n        // Send emails in parallel\n        const [customerResult, ownerResult] = await Promise.all([\n            transporter.sendMail(customerEmail),\n            transporter.sendMail(storeOwnerEmail)\n        ]);\n        console.log(\"Customer email sent:\", customerResult.messageId);\n        console.log(\"Store owner email sent:\", ownerResult.messageId);\n        return {\n            customerResult,\n            ownerResult\n        };\n    } catch (error) {\n        console.error(\"Error sending emails:\", error);\n        throw error;\n    }\n}\nasync function sendPaymentConfirmationEmail(invoice) {\n    try {\n        const customerEmail = {\n            from: `Brilliant Pad Store <${process.env.EMAIL_FROM}>`,\n            to: invoice.customerEmail,\n            subject: \"Payment Confirmation - Brilliant Pad Store\",\n            html: `\r\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\r\n          <h1 style=\"color: #22c55e;\">Payment Confirmed!</h1>\r\n          <p>Thank you for your payment. Your order has been confirmed.</p>\r\n          <p>Invoice number: <strong>${invoice._id}</strong></p>\r\n          <p>Total amount paid: <strong>$${invoice.totalAmount}</strong></p>\r\n          <div style=\"margin-top: 20px; padding: 20px; background-color: #f3f4f6; border-radius: 6px;\">\r\n            <h2 style=\"color: #4b5563; margin-top: 0;\">Next Steps</h2>\r\n            <p>Our team will process your order and contact you shortly regarding delivery arrangements.</p>\r\n          </div>\r\n        </div>\r\n      `\n        };\n        const storeOwnerEmail = {\n            from: `Brilliant Pad Store <${process.env.EMAIL_FROM}>`,\n            to: process.env.EMAIL_FROM,\n            subject: \"Payment Received\",\n            html: `\r\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\r\n          <h1 style=\"color: #22c55e;\">Payment Received</h1>\r\n          <p>Invoice number: <strong>${invoice._id}</strong></p>\r\n          <p>Customer: <strong>${invoice.customerName}</strong></p>\r\n          <p>Email: <strong>${invoice.customerEmail}</strong></p>\r\n          <p>Total amount: <strong>$${invoice.totalAmount}</strong></p>\r\n        </div>\r\n      `\n        };\n        const [customerResult, ownerResult] = await Promise.all([\n            transporter.sendMail(customerEmail),\n            transporter.sendMail(storeOwnerEmail)\n        ]);\n        console.log(\"Customer confirmation email sent:\", customerResult.messageId);\n        console.log(\"Store owner confirmation email sent:\", ownerResult.messageId);\n        return {\n            customerResult,\n            ownerResult\n        };\n    } catch (error) {\n        console.error(\"Error sending confirmation emails:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUM7K0JBQ3BCLEVBQUVOLFFBQVFVLFlBQVksQ0FBQzs0QkFDMUIsRUFBRVYsUUFBUUMsYUFBYSxDQUFDO29DQUNoQixFQUFFRCxRQUFRTyxXQUFXLENBQUM7O01BRXBELENBQUM7UUFDSDtRQUVBLE1BQU0sQ0FBQ0ksZ0JBQWdCQyxZQUFZLEdBQUcsTUFBTUMsUUFBUUMsR0FBRyxDQUFDO1lBQ3REbkMsWUFBWW9DLFFBQVEsQ0FBQ2Q7WUFDckJ0QixZQUFZb0MsUUFBUSxDQUFDTjtTQUN0QjtRQUVEWixRQUFRQyxHQUFHLENBQUMscUNBQXFDYSxlQUFlSyxTQUFTO1FBQ3pFbkIsUUFBUUMsR0FBRyxDQUFDLHdDQUF3Q2MsWUFBWUksU0FBUztRQUV6RSxPQUFPO1lBQUVMO1lBQWdCQztRQUFZO0lBQ3ZDLEVBQUUsT0FBT2pCLE9BQU87UUFDZEUsUUFBUUYsS0FBSyxDQUFDLHNDQUFzQ0E7UUFDcEQsTUFBTUE7SUFDUjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJpbGxpYW50LXBhZC8uL3NyYy9saWIvZW1haWwudHM/NGMxOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJztcclxuaW1wb3J0IHsgSUludm9pY2UgfSBmcm9tICdAL21vZGVscy9JbnZvaWNlJztcclxuXHJcbmNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gIGhvc3Q6IHByb2Nlc3MuZW52LkVNQUlMX1NFUlZFUixcclxuICBwb3J0OiA0NjUsIC8vIEdtYWlsJ3Mgc2VjdXJlIFNNVFAgcG9ydFxyXG4gIHNlY3VyZTogdHJ1ZSwgLy8gVXNlIFRMU1xyXG4gIGF1dGg6IHtcclxuICAgIHVzZXI6IHByb2Nlc3MuZW52LkVNQUlMX0ZST00sXHJcbiAgICBwYXNzOiBwcm9jZXNzLmVudi5FTUFJTF9QQVNTV09SRCwgLy8gR21haWwgQXBwIFBhc3N3b3JkXHJcbiAgfSxcclxuICB0bHM6IHtcclxuICAgIC8vIERvIG5vdCBmYWlsIG9uIGludmFsaWQgY2VydGlmaWNhdGVzXHJcbiAgICByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuLy8gVmVyaWZ5IHRoZSBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb25cclxudHJhbnNwb3J0ZXIudmVyaWZ5KGZ1bmN0aW9uIChlcnJvciwgc3VjY2Vzcykge1xyXG4gIGlmIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coJ1NNVFAgY29ubmVjdGlvbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnNvbGUubG9nKCdTTVRQIHNlcnZlciBpcyByZWFkeSB0byB0YWtlIG91ciBtZXNzYWdlcycpO1xyXG4gIH1cclxufSk7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZEludm9pY2VFbWFpbChpbnZvaWNlOiBJSW52b2ljZSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjdXN0b21lckVtYWlsID0ge1xyXG4gICAgICBmcm9tOiBgQnJpbGxpYW50IFBhZCBTdG9yZSA8JHtwcm9jZXNzLmVudi5FTUFJTF9GUk9NfT5gLFxyXG4gICAgICB0bzogaW52b2ljZS5jdXN0b21lckVtYWlsLFxyXG4gICAgICBzdWJqZWN0OiAnWW91ciBJbnZvaWNlIGZyb20gQnJpbGxpYW50IFBhZCBTdG9yZScsXHJcbiAgICAgIGh0bWw6IGBcclxuICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bztcIj5cclxuICAgICAgICAgIDxoMSBzdHlsZT1cImNvbG9yOiAjMjU2M2ViO1wiPlRoYW5rIHlvdSBmb3IgeW91ciBwdXJjaGFzZSE8L2gxPlxyXG4gICAgICAgICAgPHA+WW91ciBpbnZvaWNlIG51bWJlcjogPHN0cm9uZz4ke2ludm9pY2UuX2lkfTwvc3Ryb25nPjwvcD5cclxuICAgICAgICAgIDxwPlRvdGFsIGFtb3VudDogPHN0cm9uZz4kJHtpbnZvaWNlLnRvdGFsQW1vdW50fTwvc3Ryb25nPjwvcD5cclxuICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICA8YSBcclxuICAgICAgICAgICAgICBocmVmPVwiJHtwcm9jZXNzLmVudi5ORVhUQVVUSF9VUkx9L2ludm9pY2UvJHtpbnZvaWNlLl9pZH1cIlxyXG4gICAgICAgICAgICAgIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogIzI1NjNlYjsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAxMnB4IDI0cHg7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgYm9yZGVyLXJhZGl1czogNnB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IG1hcmdpbi10b3A6IDEwcHg7XCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIFZpZXcgSW52b2ljZSBhbmQgQ29tcGxldGUgUGF5bWVudFxyXG4gICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICA8L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIGAsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHN0b3JlT3duZXJFbWFpbCA9IHtcclxuICAgICAgZnJvbTogYEJyaWxsaWFudCBQYWQgU3RvcmUgPCR7cHJvY2Vzcy5lbnYuRU1BSUxfRlJPTX0+YCxcclxuICAgICAgdG86IHByb2Nlc3MuZW52LkVNQUlMX0ZST00sIC8vIFN0b3JlIG93bmVyJ3MgZW1haWxcclxuICAgICAgc3ViamVjdDogJ05ldyBJbnZvaWNlIEdlbmVyYXRlZCcsXHJcbiAgICAgIGh0bWw6IGBcclxuICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bztcIj5cclxuICAgICAgICAgIDxoMSBzdHlsZT1cImNvbG9yOiAjMjU2M2ViO1wiPk5ldyBJbnZvaWNlIEdlbmVyYXRlZDwvaDE+XHJcbiAgICAgICAgICA8cD5JbnZvaWNlIG51bWJlcjogPHN0cm9uZz4ke2ludm9pY2UuX2lkfTwvc3Ryb25nPjwvcD5cclxuICAgICAgICAgIDxwPkN1c3RvbWVyOiA8c3Ryb25nPiR7aW52b2ljZS5jdXN0b21lck5hbWV9PC9zdHJvbmc+PC9wPlxyXG4gICAgICAgICAgPHA+RW1haWw6IDxzdHJvbmc+JHtpbnZvaWNlLmN1c3RvbWVyRW1haWx9PC9zdHJvbmc+PC9wPlxyXG4gICAgICAgICAgPHA+VG90YWwgYW1vdW50OiA8c3Ryb25nPiQke2ludm9pY2UudG90YWxBbW91bnR9PC9zdHJvbmc+PC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICBgLFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZW5kIGVtYWlscyBpbiBwYXJhbGxlbFxyXG4gICAgY29uc3QgW2N1c3RvbWVyUmVzdWx0LCBvd25lclJlc3VsdF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgIHRyYW5zcG9ydGVyLnNlbmRNYWlsKGN1c3RvbWVyRW1haWwpLFxyXG4gICAgICB0cmFuc3BvcnRlci5zZW5kTWFpbChzdG9yZU93bmVyRW1haWwpLFxyXG4gICAgXSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0N1c3RvbWVyIGVtYWlsIHNlbnQ6JywgY3VzdG9tZXJSZXN1bHQubWVzc2FnZUlkKTtcclxuICAgIGNvbnNvbGUubG9nKCdTdG9yZSBvd25lciBlbWFpbCBzZW50OicsIG93bmVyUmVzdWx0Lm1lc3NhZ2VJZCk7XHJcblxyXG4gICAgcmV0dXJuIHsgY3VzdG9tZXJSZXN1bHQsIG93bmVyUmVzdWx0IH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgZW1haWxzOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRQYXltZW50Q29uZmlybWF0aW9uRW1haWwoaW52b2ljZTogSUludm9pY2UpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY3VzdG9tZXJFbWFpbCA9IHtcclxuICAgICAgZnJvbTogYEJyaWxsaWFudCBQYWQgU3RvcmUgPCR7cHJvY2Vzcy5lbnYuRU1BSUxfRlJPTX0+YCxcclxuICAgICAgdG86IGludm9pY2UuY3VzdG9tZXJFbWFpbCxcclxuICAgICAgc3ViamVjdDogJ1BheW1lbnQgQ29uZmlybWF0aW9uIC0gQnJpbGxpYW50IFBhZCBTdG9yZScsXHJcbiAgICAgIGh0bWw6IGBcclxuICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bztcIj5cclxuICAgICAgICAgIDxoMSBzdHlsZT1cImNvbG9yOiAjMjJjNTVlO1wiPlBheW1lbnQgQ29uZmlybWVkITwvaDE+XHJcbiAgICAgICAgICA8cD5UaGFuayB5b3UgZm9yIHlvdXIgcGF5bWVudC4gWW91ciBvcmRlciBoYXMgYmVlbiBjb25maXJtZWQuPC9wPlxyXG4gICAgICAgICAgPHA+SW52b2ljZSBudW1iZXI6IDxzdHJvbmc+JHtpbnZvaWNlLl9pZH08L3N0cm9uZz48L3A+XHJcbiAgICAgICAgICA8cD5Ub3RhbCBhbW91bnQgcGFpZDogPHN0cm9uZz4kJHtpbnZvaWNlLnRvdGFsQW1vdW50fTwvc3Ryb25nPjwvcD5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOiAyMHB4OyBwYWRkaW5nOiAyMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNmNGY2OyBib3JkZXItcmFkaXVzOiA2cHg7XCI+XHJcbiAgICAgICAgICAgIDxoMiBzdHlsZT1cImNvbG9yOiAjNGI1NTYzOyBtYXJnaW4tdG9wOiAwO1wiPk5leHQgU3RlcHM8L2gyPlxyXG4gICAgICAgICAgICA8cD5PdXIgdGVhbSB3aWxsIHByb2Nlc3MgeW91ciBvcmRlciBhbmQgY29udGFjdCB5b3Ugc2hvcnRseSByZWdhcmRpbmcgZGVsaXZlcnkgYXJyYW5nZW1lbnRzLjwvcD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICBgLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBzdG9yZU93bmVyRW1haWwgPSB7XHJcbiAgICAgIGZyb206IGBCcmlsbGlhbnQgUGFkIFN0b3JlIDwke3Byb2Nlc3MuZW52LkVNQUlMX0ZST019PmAsXHJcbiAgICAgIHRvOiBwcm9jZXNzLmVudi5FTUFJTF9GUk9NLFxyXG4gICAgICBzdWJqZWN0OiAnUGF5bWVudCBSZWNlaXZlZCcsXHJcbiAgICAgIGh0bWw6IGBcclxuICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bztcIj5cclxuICAgICAgICAgIDxoMSBzdHlsZT1cImNvbG9yOiAjMjJjNTVlO1wiPlBheW1lbnQgUmVjZWl2ZWQ8L2gxPlxyXG4gICAgICAgICAgPHA+SW52b2ljZSBudW1iZXI6IDxzdHJvbmc+JHtpbnZvaWNlLl9pZH08L3N0cm9uZz48L3A+XHJcbiAgICAgICAgICA8cD5DdXN0b21lcjogPHN0cm9uZz4ke2ludm9pY2UuY3VzdG9tZXJOYW1lfTwvc3Ryb25nPjwvcD5cclxuICAgICAgICAgIDxwPkVtYWlsOiA8c3Ryb25nPiR7aW52b2ljZS5jdXN0b21lckVtYWlsfTwvc3Ryb25nPjwvcD5cclxuICAgICAgICAgIDxwPlRvdGFsIGFtb3VudDogPHN0cm9uZz4kJHtpbnZvaWNlLnRvdGFsQW1vdW50fTwvc3Ryb25nPjwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgYCxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgW2N1c3RvbWVyUmVzdWx0LCBvd25lclJlc3VsdF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgIHRyYW5zcG9ydGVyLnNlbmRNYWlsKGN1c3RvbWVyRW1haWwpLFxyXG4gICAgICB0cmFuc3BvcnRlci5zZW5kTWFpbChzdG9yZU93bmVyRW1haWwpLFxyXG4gICAgXSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0N1c3RvbWVyIGNvbmZpcm1hdGlvbiBlbWFpbCBzZW50OicsIGN1c3RvbWVyUmVzdWx0Lm1lc3NhZ2VJZCk7XHJcbiAgICBjb25zb2xlLmxvZygnU3RvcmUgb3duZXIgY29uZmlybWF0aW9uIGVtYWlsIHNlbnQ6Jywgb3duZXJSZXN1bHQubWVzc2FnZUlkKTtcclxuXHJcbiAgICByZXR1cm4geyBjdXN0b21lclJlc3VsdCwgb3duZXJSZXN1bHQgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBjb25maXJtYXRpb24gZW1haWxzOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufSAiXSwibmFtZXMiOlsibm9kZW1haWxlciIsInRyYW5zcG9ydGVyIiwiY3JlYXRlVHJhbnNwb3J0IiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJFTUFJTF9TRVJWRVIiLCJwb3J0Iiwic2VjdXJlIiwiYXV0aCIsInVzZXIiLCJFTUFJTF9GUk9NIiwicGFzcyIsIkVNQUlMX1BBU1NXT1JEIiwidGxzIiwicmVqZWN0VW5hdXRob3JpemVkIiwidmVyaWZ5IiwiZXJyb3IiLCJzdWNjZXNzIiwiY29uc29sZSIsImxvZyIsInNlbmRJbnZvaWNlRW1haWwiLCJpbnZvaWNlIiwiY3VzdG9tZXJFbWFpbCIsImZyb20iLCJ0byIsInN1YmplY3QiLCJodG1sIiwiX2lkIiwidG90YWxBbW91bnQiLCJORVhUQVVUSF9VUkwiLCJzdG9yZU93bmVyRW1haWwiLCJjdXN0b21lck5hbWUiLCJjdXN0b21lclJlc3VsdCIsIm93bmVyUmVzdWx0IiwiUHJvbWlzZSIsImFsbCIsInNlbmRNYWlsIiwibWVzc2FnZUlkIiwic2VuZFBheW1lbnRDb25maXJtYXRpb25FbWFpbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/email.ts\n");

/***/ }),

/***/ "(api)/./src/lib/mongodb.ts":
/*!****************************!*\
  !*** ./src/lib/mongodb.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable\");\n}\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function connectDB() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI);\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectDB);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL21vbmdvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0YsV0FBVztBQUUzQyxJQUFJLENBQUNBLGFBQWE7SUFDaEIsTUFBTSxJQUFJRyxNQUFNO0FBQ2xCO0FBRUEsSUFBSUMsU0FBU0MsT0FBT04sUUFBUTtBQUU1QixJQUFJLENBQUNLLFFBQVE7SUFDWEEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRUEsZUFBZUM7SUFDYixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZixPQUFPRixPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkJILE9BQU9HLE9BQU8sR0FBR1IsdURBQWdCLENBQUNDO0lBQ3BDO0lBQ0FJLE9BQU9FLElBQUksR0FBRyxNQUFNRixPQUFPRyxPQUFPO0lBQ2xDLE9BQU9ILE9BQU9FLElBQUk7QUFDcEI7QUFFQSxpRUFBZUUsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JyaWxsaWFudC1wYWQvLi9zcmMvbGliL21vbmdvZGIudHM/NTNjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSSE7XHJcblxyXG5pZiAoIU1PTkdPREJfVVJJKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZScpO1xyXG59XHJcblxyXG5sZXQgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlO1xyXG5cclxuaWYgKCFjYWNoZWQpIHtcclxuICBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2UgPSB7IGNvbm46IG51bGwsIHByb21pc2U6IG51bGwgfTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gY29ubmVjdERCKCkge1xyXG4gIGlmIChjYWNoZWQuY29ubikge1xyXG4gICAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xyXG4gICAgY2FjaGVkLnByb21pc2UgPSBtb25nb29zZS5jb25uZWN0KE1PTkdPREJfVVJJKTtcclxuICB9XHJcbiAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3REQjsgIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiTU9OR09EQl9VUkkiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImNvbm5lY3REQiIsImNvbm5lY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/mongodb.ts\n");

/***/ }),

/***/ "(api)/./src/models/Invoice.ts":
/*!*******************************!*\
  !*** ./src/models/Invoice.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst InvoiceSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    customerName: {\n        type: String,\n        required: true\n    },\n    customerEmail: {\n        type: String,\n        required: true\n    },\n    items: [\n        {\n            dogId: {\n                type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n                ref: \"Dog\",\n                required: true\n            },\n            quantity: {\n                type: Number,\n                required: true\n            },\n            price: {\n                type: Number,\n                required: true\n            }\n        }\n    ],\n    brilliantPads: {\n        quantity: {\n            type: Number,\n            default: 0\n        },\n        price: {\n            type: Number,\n            default: 0\n        }\n    },\n    totalAmount: {\n        type: Number,\n        required: true\n    },\n    status: {\n        type: String,\n        enum: [\n            \"pending\",\n            \"paid\"\n        ],\n        default: \"pending\"\n    },\n    paymentId: String,\n    createdAt: {\n        type: Date,\n        default: Date.now\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Invoice || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Invoice\", InvoiceSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbW9kZWxzL0ludm9pY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNEO0FBd0J0RCxNQUFNRSxnQkFBZ0IsSUFBSUQsNENBQU1BLENBQVc7SUFDekNFLGNBQWM7UUFDWkMsTUFBTUM7UUFDTkMsVUFBVTtJQUNaO0lBQ0FDLGVBQWU7UUFDYkgsTUFBTUM7UUFDTkMsVUFBVTtJQUNaO0lBQ0FFLE9BQU87UUFBQztZQUNOQyxPQUFPO2dCQUNMTCxNQUFNSCw0Q0FBTUEsQ0FBQ1MsS0FBSyxDQUFDQyxRQUFRO2dCQUMzQkMsS0FBSztnQkFDTE4sVUFBVTtZQUNaO1lBQ0FPLFVBQVU7Z0JBQ1JULE1BQU1VO2dCQUNOUixVQUFVO1lBQ1o7WUFDQVMsT0FBTztnQkFDTFgsTUFBTVU7Z0JBQ05SLFVBQVU7WUFDWjtRQUNGO0tBQUU7SUFDRlUsZUFBZTtRQUNiSCxVQUFVO1lBQ1JULE1BQU1VO1lBQ05HLFNBQVM7UUFDWDtRQUNBRixPQUFPO1lBQ0xYLE1BQU1VO1lBQ05HLFNBQVM7UUFDWDtJQUNGO0lBQ0FDLGFBQWE7UUFDWGQsTUFBTVU7UUFDTlIsVUFBVTtJQUNaO0lBQ0FhLFFBQVE7UUFDTmYsTUFBTUM7UUFDTmUsTUFBTTtZQUFDO1lBQVc7U0FBTztRQUN6QkgsU0FBUztJQUNYO0lBQ0FJLFdBQVdoQjtJQUNYaUIsV0FBVztRQUNUbEIsTUFBTW1CO1FBQ05OLFNBQVNNLEtBQUtDLEdBQUc7SUFDbkI7QUFDRjtBQUVBLGlFQUFleEIsd0RBQWUsQ0FBQzBCLE9BQU8sSUFBSTFCLHFEQUFjLENBQVcsV0FBV0UsY0FBY0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JyaWxsaWFudC1wYWQvLi9zcmMvbW9kZWxzL0ludm9pY2UudHM/NmFkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBEb2N1bWVudCB9IGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmludGVyZmFjZSBJSW52b2ljZUl0ZW0ge1xyXG4gIGRvZ0lkOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZDtcclxuICBxdWFudGl0eTogbnVtYmVyO1xyXG4gIHByaWNlOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBJQnJpbGxpYW50UGFkcyB7XHJcbiAgcXVhbnRpdHk6IG51bWJlcjtcclxuICBwcmljZTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElJbnZvaWNlIGV4dGVuZHMgRG9jdW1lbnQge1xyXG4gIGN1c3RvbWVyTmFtZTogc3RyaW5nO1xyXG4gIGN1c3RvbWVyRW1haWw6IHN0cmluZztcclxuICBpdGVtczogSUludm9pY2VJdGVtW107XHJcbiAgYnJpbGxpYW50UGFkczogSUJyaWxsaWFudFBhZHM7XHJcbiAgdG90YWxBbW91bnQ6IG51bWJlcjtcclxuICBzdGF0dXM6ICdwZW5kaW5nJyB8ICdwYWlkJztcclxuICBwYXltZW50SWQ/OiBzdHJpbmc7XHJcbiAgY3JlYXRlZEF0OiBEYXRlO1xyXG59XHJcblxyXG5jb25zdCBJbnZvaWNlU2NoZW1hID0gbmV3IFNjaGVtYTxJSW52b2ljZT4oe1xyXG4gIGN1c3RvbWVyTmFtZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBjdXN0b21lckVtYWlsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIGl0ZW1zOiBbe1xyXG4gICAgZG9nSWQ6IHtcclxuICAgICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICByZWY6ICdEb2cnLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBxdWFudGl0eToge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIHByaWNlOiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB9LFxyXG4gIH1dLFxyXG4gIGJyaWxsaWFudFBhZHM6IHtcclxuICAgIHF1YW50aXR5OiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgZGVmYXVsdDogMCxcclxuICAgIH0sXHJcbiAgICBwcmljZToge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIGRlZmF1bHQ6IDAsXHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgdG90YWxBbW91bnQ6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbiAgc3RhdHVzOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBlbnVtOiBbJ3BlbmRpbmcnLCAncGFpZCddLFxyXG4gICAgZGVmYXVsdDogJ3BlbmRpbmcnLFxyXG4gIH0sXHJcbiAgcGF5bWVudElkOiBTdHJpbmcsXHJcbiAgY3JlYXRlZEF0OiB7XHJcbiAgICB0eXBlOiBEYXRlLFxyXG4gICAgZGVmYXVsdDogRGF0ZS5ub3csXHJcbiAgfSxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuSW52b2ljZSB8fCBtb25nb29zZS5tb2RlbDxJSW52b2ljZT4oJ0ludm9pY2UnLCBJbnZvaWNlU2NoZW1hKTsgIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiU2NoZW1hIiwiSW52b2ljZVNjaGVtYSIsImN1c3RvbWVyTmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImN1c3RvbWVyRW1haWwiLCJpdGVtcyIsImRvZ0lkIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInF1YW50aXR5IiwiTnVtYmVyIiwicHJpY2UiLCJicmlsbGlhbnRQYWRzIiwiZGVmYXVsdCIsInRvdGFsQW1vdW50Iiwic3RhdHVzIiwiZW51bSIsInBheW1lbnRJZCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJub3ciLCJtb2RlbHMiLCJJbnZvaWNlIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/models/Invoice.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/invoices/index.ts":
/*!*****************************************!*\
  !*** ./src/pages/api/invoices/index.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/mongodb */ \"(api)/./src/lib/mongodb.ts\");\n/* harmony import */ var _models_Invoice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/models/Invoice */ \"(api)/./src/models/Invoice.ts\");\n/* harmony import */ var _lib_email__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/email */ \"(api)/./src/lib/email.ts\");\n\n\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            message: \"Method not allowed\"\n        });\n    }\n    try {\n        const { customerData, items } = req.body;\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n        const invoice = await _models_Invoice__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n            customerName: customerData.name,\n            customerEmail: customerData.email,\n            items: items.map((item)=>({\n                    dogId: item._id,\n                    quantity: item.quantity,\n                    price: item.price\n                })),\n            totalAmount: items.reduce((sum, item)=>sum + item.price * item.quantity, 0)\n        });\n        await (0,_lib_email__WEBPACK_IMPORTED_MODULE_2__.sendInvoiceEmail)(invoice);\n        res.status(201).json(invoice);\n    } catch (error) {\n        console.error(\"Error creating invoice:\", error);\n        res.status(500).json({\n            message: \"Error creating invoice\",\n            error\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2ludm9pY2VzL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDc0M7QUFDQztBQUNRO0FBRWhDLGVBQWVHLFFBQzVCQyxHQUFtQixFQUNuQkMsR0FBb0I7SUFFcEIsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLFFBQVE7UUFDekIsT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxTQUFTO1FBQXFCO0lBQzlEO0lBRUEsSUFBSTtRQUNGLE1BQU0sRUFBRUMsWUFBWSxFQUFFQyxLQUFLLEVBQUUsR0FBR1AsSUFBSVEsSUFBSTtRQUV4QyxNQUFNWix3REFBU0E7UUFFZixNQUFNYSxVQUFVLE1BQU1aLDhEQUFjLENBQUM7WUFDbkNjLGNBQWNMLGFBQWFNLElBQUk7WUFDL0JDLGVBQWVQLGFBQWFRLEtBQUs7WUFDakNQLE9BQU9BLE1BQU1RLEdBQUcsQ0FBQyxDQUFDQyxPQUFlO29CQUMvQkMsT0FBT0QsS0FBS0UsR0FBRztvQkFDZkMsVUFBVUgsS0FBS0csUUFBUTtvQkFDdkJDLE9BQU9KLEtBQUtJLEtBQUs7Z0JBQ25CO1lBQ0FDLGFBQWFkLE1BQU1lLE1BQU0sQ0FBQyxDQUFDQyxLQUFhUCxPQUFjTyxNQUFNUCxLQUFLSSxLQUFLLEdBQUdKLEtBQUtHLFFBQVEsRUFBRTtRQUMxRjtRQUVBLE1BQU1yQiw0REFBZ0JBLENBQUNXO1FBRXZCUixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDSztJQUN2QixFQUFFLE9BQU9lLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDJCQUEyQkE7UUFDekN2QixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7WUFBMEJtQjtRQUFNO0lBQ2xFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icmlsbGlhbnQtcGFkLy4vc3JjL3BhZ2VzL2FwaS9pbnZvaWNlcy9pbmRleC50cz85MWI2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgY29ubmVjdERCIGZyb20gJ0AvbGliL21vbmdvZGInO1xyXG5pbXBvcnQgSW52b2ljZSBmcm9tICdAL21vZGVscy9JbnZvaWNlJztcclxuaW1wb3J0IHsgc2VuZEludm9pY2VFbWFpbCB9IGZyb20gJ0AvbGliL2VtYWlsJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXHJcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcclxuICByZXM6IE5leHRBcGlSZXNwb25zZVxyXG4pIHtcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGN1c3RvbWVyRGF0YSwgaXRlbXMgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGF3YWl0IGNvbm5lY3REQigpO1xyXG5cclxuICAgIGNvbnN0IGludm9pY2UgPSBhd2FpdCBJbnZvaWNlLmNyZWF0ZSh7XHJcbiAgICAgIGN1c3RvbWVyTmFtZTogY3VzdG9tZXJEYXRhLm5hbWUsXHJcbiAgICAgIGN1c3RvbWVyRW1haWw6IGN1c3RvbWVyRGF0YS5lbWFpbCxcclxuICAgICAgaXRlbXM6IGl0ZW1zLm1hcCgoaXRlbTogYW55KSA9PiAoe1xyXG4gICAgICAgIGRvZ0lkOiBpdGVtLl9pZCxcclxuICAgICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eSxcclxuICAgICAgICBwcmljZTogaXRlbS5wcmljZSxcclxuICAgICAgfSkpLFxyXG4gICAgICB0b3RhbEFtb3VudDogaXRlbXMucmVkdWNlKChzdW06IG51bWJlciwgaXRlbTogYW55KSA9PiBzdW0gKyBpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eSwgMCksXHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCBzZW5kSW52b2ljZUVtYWlsKGludm9pY2UpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKGludm9pY2UpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBpbnZvaWNlOicsIGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0Vycm9yIGNyZWF0aW5nIGludm9pY2UnLCBlcnJvciB9KTtcclxuICB9XHJcbn0gIl0sIm5hbWVzIjpbImNvbm5lY3REQiIsIkludm9pY2UiLCJzZW5kSW52b2ljZUVtYWlsIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiY3VzdG9tZXJEYXRhIiwiaXRlbXMiLCJib2R5IiwiaW52b2ljZSIsImNyZWF0ZSIsImN1c3RvbWVyTmFtZSIsIm5hbWUiLCJjdXN0b21lckVtYWlsIiwiZW1haWwiLCJtYXAiLCJpdGVtIiwiZG9nSWQiLCJfaWQiLCJxdWFudGl0eSIsInByaWNlIiwidG90YWxBbW91bnQiLCJyZWR1Y2UiLCJzdW0iLCJlcnJvciIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/invoices/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finvoices&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cinvoices%5Cindex.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();