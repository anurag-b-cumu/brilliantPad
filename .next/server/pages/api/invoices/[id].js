"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/invoices/[id]";
exports.ids = ["pages/api/invoices/[id]"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "socket.io":
/*!****************************!*\
  !*** external "socket.io" ***!
  \****************************/
/***/ ((module) => {

module.exports = import("socket.io");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finvoices%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cinvoices%5C%5Bid%5D.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finvoices%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cinvoices%5C%5Bid%5D.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_invoices_id_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\invoices\\[id].ts */ \"(api)/./src/pages/api/invoices/[id].ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_invoices_id_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_invoices_id_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_invoices_id_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_invoices_id_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/invoices/[id]\",\n        pathname: \"/api/invoices/[id]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_invoices_id_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmludm9pY2VzJTJGJTVCaWQlNUQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlNUNwYWdlcyU1Q2FwaSU1Q2ludm9pY2VzJTVDJTVCaWQlNUQudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDaUU7QUFDakU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDBEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywwREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icmlsbGlhbnQtcGFkLz9jYjRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9zcmNcXFxccGFnZXNcXFxcYXBpXFxcXGludm9pY2VzXFxcXFtpZF0udHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9pbnZvaWNlcy9baWRdXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvaW52b2ljZXMvW2lkXVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finvoices%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cinvoices%5C%5Bid%5D.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/lib/mongodb.ts":
/*!****************************!*\
  !*** ./src/lib/mongodb.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable\");\n}\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function connectDB() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI);\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectDB);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL21vbmdvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0YsV0FBVztBQUUzQyxJQUFJLENBQUNBLGFBQWE7SUFDaEIsTUFBTSxJQUFJRyxNQUFNO0FBQ2xCO0FBRUEsSUFBSUMsU0FBU0MsT0FBT04sUUFBUTtBQUU1QixJQUFJLENBQUNLLFFBQVE7SUFDWEEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRUEsZUFBZUM7SUFDYixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZixPQUFPRixPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkJILE9BQU9HLE9BQU8sR0FBR1IsdURBQWdCLENBQUNDO0lBQ3BDO0lBQ0FJLE9BQU9FLElBQUksR0FBRyxNQUFNRixPQUFPRyxPQUFPO0lBQ2xDLE9BQU9ILE9BQU9FLElBQUk7QUFDcEI7QUFFQSxpRUFBZUUsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JyaWxsaWFudC1wYWQvLi9zcmMvbGliL21vbmdvZGIudHM/NTNjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSSE7XHJcblxyXG5pZiAoIU1PTkdPREJfVVJJKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZScpO1xyXG59XHJcblxyXG5sZXQgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlO1xyXG5cclxuaWYgKCFjYWNoZWQpIHtcclxuICBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2UgPSB7IGNvbm46IG51bGwsIHByb21pc2U6IG51bGwgfTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gY29ubmVjdERCKCkge1xyXG4gIGlmIChjYWNoZWQuY29ubikge1xyXG4gICAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xyXG4gICAgY2FjaGVkLnByb21pc2UgPSBtb25nb29zZS5jb25uZWN0KE1PTkdPREJfVVJJKTtcclxuICB9XHJcbiAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3REQjsgIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiTU9OR09EQl9VUkkiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImNvbm5lY3REQiIsImNvbm5lY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/mongodb.ts\n");

/***/ }),

/***/ "(api)/./src/lib/socket.ts":
/*!***************************!*\
  !*** ./src/lib/socket.ts ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getIO: () => (/* binding */ getIO),\n/* harmony export */   initSocket: () => (/* binding */ initSocket)\n/* harmony export */ });\n/* harmony import */ var socket_io__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! socket.io */ \"socket.io\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([socket_io__WEBPACK_IMPORTED_MODULE_0__]);\nsocket_io__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nlet io = null;\nconst initSocket = (server)=>{\n    if (io) {\n        console.log(\"Socket.IO already initialized\");\n        return io;\n    }\n    io = new socket_io__WEBPACK_IMPORTED_MODULE_0__.Server(server, {\n        cors: {\n            origin: \"http://localhost:3000\" || 0,\n            methods: [\n                \"GET\",\n                \"POST\"\n            ],\n            credentials: true\n        },\n        path: \"/api/socketio\"\n    });\n    io.on(\"connection\", (socket)=>{\n        console.log(\"Client connected:\", socket.id);\n        socket.on(\"joinInvoiceRoom\", (invoiceId)=>{\n            socket.join(`invoice-${invoiceId}`);\n            console.log(`Client joined invoice room: invoice-${invoiceId}`);\n        });\n        socket.on(\"paymentConfirmed\", (data)=>{\n            console.log(\"Payment confirmed for invoice:\", data.invoiceId);\n            io?.to(`invoice-${data.invoiceId}`).emit(\"paymentConfirmed\", data);\n        });\n        socket.on(\"disconnect\", ()=>{\n            console.log(\"Client disconnected:\", socket.id);\n        });\n    });\n    return io;\n};\nconst getIO = ()=>{\n    if (!io) {\n        throw new Error(\"Socket.IO not initialized\");\n    }\n    return io;\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL3NvY2tldC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDcUQ7QUFHckQsSUFBSUUsS0FBNEI7QUFFekIsTUFBTUMsYUFBYSxDQUFDQztJQUN6QixJQUFJRixJQUFJO1FBQ05HLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU9KO0lBQ1Q7SUFFQUEsS0FBSyxJQUFJRCw2Q0FBY0EsQ0FBQ0csUUFBUTtRQUM5QkcsTUFBTTtZQUNKQyxRQUFRQyx1QkFBZ0MsSUFBSTtZQUM1Q0csU0FBUztnQkFBQztnQkFBTzthQUFPO1lBQ3hCQyxhQUFhO1FBQ2Y7UUFDQUMsTUFBTTtJQUNSO0lBRUFaLEdBQUdhLEVBQUUsQ0FBQyxjQUFjLENBQUNDO1FBQ25CWCxRQUFRQyxHQUFHLENBQUMscUJBQXFCVSxPQUFPQyxFQUFFO1FBRTFDRCxPQUFPRCxFQUFFLENBQUMsbUJBQW1CLENBQUNHO1lBQzVCRixPQUFPRyxJQUFJLENBQUMsQ0FBQyxRQUFRLEVBQUVELFVBQVUsQ0FBQztZQUNsQ2IsUUFBUUMsR0FBRyxDQUFDLENBQUMsb0NBQW9DLEVBQUVZLFVBQVUsQ0FBQztRQUNoRTtRQUVBRixPQUFPRCxFQUFFLENBQUMsb0JBQW9CLENBQUNLO1lBQzdCZixRQUFRQyxHQUFHLENBQUMsa0NBQWtDYyxLQUFLRixTQUFTO1lBQzVEaEIsSUFBSW1CLEdBQUcsQ0FBQyxRQUFRLEVBQUVELEtBQUtGLFNBQVMsQ0FBQyxDQUFDLEVBQUVJLEtBQUssb0JBQW9CRjtRQUMvRDtRQUVBSixPQUFPRCxFQUFFLENBQUMsY0FBYztZQUN0QlYsUUFBUUMsR0FBRyxDQUFDLHdCQUF3QlUsT0FBT0MsRUFBRTtRQUMvQztJQUNGO0lBRUEsT0FBT2Y7QUFDVCxFQUFFO0FBRUssTUFBTXFCLFFBQVE7SUFDbkIsSUFBSSxDQUFDckIsSUFBSTtRQUNQLE1BQU0sSUFBSXNCLE1BQU07SUFDbEI7SUFDQSxPQUFPdEI7QUFDVCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJpbGxpYW50LXBhZC8uL3NyYy9saWIvc29ja2V0LnRzPzg0MDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2VydmVyIGFzIE5ldFNlcnZlciB9IGZyb20gJ2h0dHAnO1xyXG5pbXBvcnQgeyBTZXJ2ZXIgYXMgU29ja2V0SU9TZXJ2ZXIgfSBmcm9tICdzb2NrZXQuaW8nO1xyXG5pbXBvcnQgdHlwZSB7IFNvY2tldCB9IGZyb20gJ3NvY2tldC5pby1jbGllbnQnO1xyXG5cclxubGV0IGlvOiBTb2NrZXRJT1NlcnZlciB8IG51bGwgPSBudWxsO1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRTb2NrZXQgPSAoc2VydmVyOiBOZXRTZXJ2ZXIpID0+IHtcclxuICBpZiAoaW8pIHtcclxuICAgIGNvbnNvbGUubG9nKCdTb2NrZXQuSU8gYWxyZWFkeSBpbml0aWFsaXplZCcpO1xyXG4gICAgcmV0dXJuIGlvO1xyXG4gIH1cclxuXHJcbiAgaW8gPSBuZXcgU29ja2V0SU9TZXJ2ZXIoc2VydmVyLCB7XHJcbiAgICBjb3JzOiB7XHJcbiAgICAgIG9yaWdpbjogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFTRV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsXHJcbiAgICAgIG1ldGhvZHM6IFsnR0VUJywgJ1BPU1QnXSxcclxuICAgICAgY3JlZGVudGlhbHM6IHRydWVcclxuICAgIH0sXHJcbiAgICBwYXRoOiAnL2FwaS9zb2NrZXRpbycsXHJcbiAgfSk7XHJcblxyXG4gIGlvLm9uKCdjb25uZWN0aW9uJywgKHNvY2tldCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ0NsaWVudCBjb25uZWN0ZWQ6Jywgc29ja2V0LmlkKTtcclxuXHJcbiAgICBzb2NrZXQub24oJ2pvaW5JbnZvaWNlUm9vbScsIChpbnZvaWNlSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICBzb2NrZXQuam9pbihgaW52b2ljZS0ke2ludm9pY2VJZH1gKTtcclxuICAgICAgY29uc29sZS5sb2coYENsaWVudCBqb2luZWQgaW52b2ljZSByb29tOiBpbnZvaWNlLSR7aW52b2ljZUlkfWApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc29ja2V0Lm9uKCdwYXltZW50Q29uZmlybWVkJywgKGRhdGE6IHsgaW52b2ljZUlkOiBzdHJpbmcgfSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnUGF5bWVudCBjb25maXJtZWQgZm9yIGludm9pY2U6JywgZGF0YS5pbnZvaWNlSWQpO1xyXG4gICAgICBpbz8udG8oYGludm9pY2UtJHtkYXRhLmludm9pY2VJZH1gKS5lbWl0KCdwYXltZW50Q29uZmlybWVkJywgZGF0YSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdDbGllbnQgZGlzY29ubmVjdGVkOicsIHNvY2tldC5pZCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGlvO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldElPID0gKCkgPT4ge1xyXG4gIGlmICghaW8pIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignU29ja2V0LklPIG5vdCBpbml0aWFsaXplZCcpO1xyXG4gIH1cclxuICByZXR1cm4gaW87XHJcbn07ICJdLCJuYW1lcyI6WyJTZXJ2ZXIiLCJTb2NrZXRJT1NlcnZlciIsImlvIiwiaW5pdFNvY2tldCIsInNlcnZlciIsImNvbnNvbGUiLCJsb2ciLCJjb3JzIiwib3JpZ2luIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0JBU0VfVVJMIiwibWV0aG9kcyIsImNyZWRlbnRpYWxzIiwicGF0aCIsIm9uIiwic29ja2V0IiwiaWQiLCJpbnZvaWNlSWQiLCJqb2luIiwiZGF0YSIsInRvIiwiZW1pdCIsImdldElPIiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/socket.ts\n");

/***/ }),

/***/ "(api)/./src/models/Invoice.ts":
/*!*******************************!*\
  !*** ./src/models/Invoice.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst InvoiceSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    customerName: {\n        type: String,\n        required: true\n    },\n    customerEmail: {\n        type: String,\n        required: true\n    },\n    items: [\n        {\n            dogId: {\n                type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n                ref: \"Dog\",\n                required: true\n            },\n            quantity: {\n                type: Number,\n                required: true\n            },\n            price: {\n                type: Number,\n                required: true\n            }\n        }\n    ],\n    brilliantPads: {\n        quantity: {\n            type: Number\n        },\n        price: {\n            type: Number\n        }\n    },\n    totalAmount: {\n        type: Number,\n        required: true\n    },\n    status: {\n        type: String,\n        enum: [\n            \"pending\",\n            \"paid\",\n            \"cancelled\"\n        ],\n        default: \"pending\"\n    },\n    paymentId: String,\n    createdAt: {\n        type: Date,\n        default: Date.now\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Invoice || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Invoice\", InvoiceSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbW9kZWxzL0ludm9pY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNEO0FBK0J0RCxNQUFNRSxnQkFBZ0IsSUFBSUQsNENBQU1BLENBQVc7SUFDekNFLGNBQWM7UUFDWkMsTUFBTUM7UUFDTkMsVUFBVTtJQUNaO0lBQ0FDLGVBQWU7UUFDYkgsTUFBTUM7UUFDTkMsVUFBVTtJQUNaO0lBQ0FFLE9BQU87UUFBQztZQUNOQyxPQUFPO2dCQUNMTCxNQUFNSCw0Q0FBTUEsQ0FBQ1MsS0FBSyxDQUFDQyxRQUFRO2dCQUMzQkMsS0FBSztnQkFDTE4sVUFBVTtZQUNaO1lBQ0FPLFVBQVU7Z0JBQ1JULE1BQU1VO2dCQUNOUixVQUFVO1lBQ1o7WUFDQVMsT0FBTztnQkFDTFgsTUFBTVU7Z0JBQ05SLFVBQVU7WUFDWjtRQUNGO0tBQUU7SUFDRlUsZUFBZTtRQUNiSCxVQUFVO1lBQUVULE1BQU1VO1FBQU87UUFDekJDLE9BQU87WUFBRVgsTUFBTVU7UUFBTztJQUN4QjtJQUNBRyxhQUFhO1FBQ1hiLE1BQU1VO1FBQ05SLFVBQVU7SUFDWjtJQUNBWSxRQUFRO1FBQ05kLE1BQU1DO1FBQ05jLE1BQU07WUFBQztZQUFXO1lBQVE7U0FBWTtRQUN0Q0MsU0FBUztJQUNYO0lBQ0FDLFdBQVdoQjtJQUNYaUIsV0FBVztRQUNUbEIsTUFBTW1CO1FBQ05ILFNBQVNHLEtBQUtDLEdBQUc7SUFDbkI7QUFDRjtBQUVBLGlFQUFleEIsd0RBQWUsQ0FBQzBCLE9BQU8sSUFBSTFCLHFEQUFjLENBQVcsV0FBV0UsY0FBY0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JyaWxsaWFudC1wYWQvLi9zcmMvbW9kZWxzL0ludm9pY2UudHM/NmFkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBEb2N1bWVudCB9IGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmludGVyZmFjZSBJSW52b2ljZUl0ZW0ge1xyXG4gIGRvZ0lkOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZDtcclxuICBxdWFudGl0eTogbnVtYmVyO1xyXG4gIHByaWNlOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBJQnJpbGxpYW50UGFkcyB7XHJcbiAgcXVhbnRpdHk6IG51bWJlcjtcclxuICBwcmljZTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElJbnZvaWNlIGV4dGVuZHMgRG9jdW1lbnQge1xyXG4gIGN1c3RvbWVyTmFtZTogc3RyaW5nO1xyXG4gIGN1c3RvbWVyRW1haWw6IHN0cmluZztcclxuICBpdGVtczogQXJyYXk8e1xyXG4gICAgZG9nSWQ6IElEb2c7XHJcbiAgICBxdWFudGl0eTogbnVtYmVyO1xyXG4gICAgcHJpY2U6IG51bWJlcjtcclxuICB9PjtcclxuICBicmlsbGlhbnRQYWRzPzoge1xyXG4gICAgcXVhbnRpdHk6IG51bWJlcjtcclxuICAgIHByaWNlOiBudW1iZXI7XHJcbiAgfTtcclxuICB0b3RhbEFtb3VudDogbnVtYmVyO1xyXG4gIHN0YXR1czogJ3BlbmRpbmcnIHwgJ3BhaWQnIHwgJ2NhbmNlbGxlZCc7XHJcbiAgcGF5bWVudElkPzogc3RyaW5nO1xyXG4gIGNyZWF0ZWRBdDogRGF0ZTtcclxufVxyXG5cclxuY29uc3QgSW52b2ljZVNjaGVtYSA9IG5ldyBTY2hlbWE8SUludm9pY2U+KHtcclxuICBjdXN0b21lck5hbWU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbiAgY3VzdG9tZXJFbWFpbDoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBpdGVtczogW3tcclxuICAgIGRvZ0lkOiB7XHJcbiAgICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgcmVmOiAnRG9nJyxcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgcXVhbnRpdHk6IHtcclxuICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBwcmljZToge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICB9XSxcclxuICBicmlsbGlhbnRQYWRzOiB7XHJcbiAgICBxdWFudGl0eTogeyB0eXBlOiBOdW1iZXIgfSxcclxuICAgIHByaWNlOiB7IHR5cGU6IE51bWJlciB9XHJcbiAgfSxcclxuICB0b3RhbEFtb3VudDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBzdGF0dXM6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGVudW06IFsncGVuZGluZycsICdwYWlkJywgJ2NhbmNlbGxlZCddLFxyXG4gICAgZGVmYXVsdDogJ3BlbmRpbmcnLFxyXG4gIH0sXHJcbiAgcGF5bWVudElkOiBTdHJpbmcsXHJcbiAgY3JlYXRlZEF0OiB7XHJcbiAgICB0eXBlOiBEYXRlLFxyXG4gICAgZGVmYXVsdDogRGF0ZS5ub3csXHJcbiAgfSxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuSW52b2ljZSB8fCBtb25nb29zZS5tb2RlbDxJSW52b2ljZT4oJ0ludm9pY2UnLCBJbnZvaWNlU2NoZW1hKTsgIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiU2NoZW1hIiwiSW52b2ljZVNjaGVtYSIsImN1c3RvbWVyTmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImN1c3RvbWVyRW1haWwiLCJpdGVtcyIsImRvZ0lkIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInF1YW50aXR5IiwiTnVtYmVyIiwicHJpY2UiLCJicmlsbGlhbnRQYWRzIiwidG90YWxBbW91bnQiLCJzdGF0dXMiLCJlbnVtIiwiZGVmYXVsdCIsInBheW1lbnRJZCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJub3ciLCJtb2RlbHMiLCJJbnZvaWNlIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/models/Invoice.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/invoices/[id].ts":
/*!****************************************!*\
  !*** ./src/pages/api/invoices/[id].ts ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/mongodb */ \"(api)/./src/lib/mongodb.ts\");\n/* harmony import */ var _models_Invoice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/models/Invoice */ \"(api)/./src/models/Invoice.ts\");\n/* harmony import */ var _lib_socket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/socket */ \"(api)/./src/lib/socket.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_socket__WEBPACK_IMPORTED_MODULE_2__]);\n_lib_socket__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nasync function handler(req, res) {\n    await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n    if (req.method === \"GET\") {\n        try {\n            const invoice = await _models_Invoice__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(req.query.id).populate(\"items.dogId\").exec();\n            if (!invoice) {\n                return res.status(404).json({\n                    message: \"Invoice not found\"\n                });\n            }\n            res.status(200).json(invoice);\n        } catch (error) {\n            console.error(\"Error fetching invoice:\", error);\n            res.status(500).json({\n                message: \"Error fetching invoice\",\n                error\n            });\n        }\n    } else if (req.method === \"PATCH\") {\n        try {\n            const { id } = req.query;\n            const { status } = req.body;\n            console.log(\"Updating invoice status:\", id, status);\n            const updatedInvoice = await _models_Invoice__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndUpdate(id, {\n                status\n            }, {\n                new: true\n            }).populate(\"items.dogId\");\n            if (!updatedInvoice) {\n                return res.status(404).json({\n                    error: \"Invoice not found\"\n                });\n            }\n            try {\n                // Try to emit socket event, but don't fail if socket isn't available\n                const io = (0,_lib_socket__WEBPACK_IMPORTED_MODULE_2__.getIO)();\n                console.log(\"Emitting payment confirmation from API:\", id);\n                io.to(`invoice-${id}`).emit(\"paymentConfirmed\", {\n                    invoiceId: id\n                });\n            } catch (socketError) {\n                console.warn(\"Socket.IO not available:\", socketError);\n            // Continue without socket emission\n            }\n            res.status(200).json(updatedInvoice);\n        } catch (error) {\n            console.error(\"Error updating invoice:\", error);\n            res.status(500).json({\n                error: \"Failed to update invoice\"\n            });\n        }\n    } else {\n        res.status(405).json({\n            message: \"Method not allowed\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2ludm9pY2VzL1tpZF0udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUNzQztBQUNDO0FBQ0Y7QUFFdEIsZUFBZUcsUUFDNUJDLEdBQW1CLEVBQ25CQyxHQUFvQjtJQUVwQixNQUFNTCx3REFBU0E7SUFFZixJQUFJSSxJQUFJRSxNQUFNLEtBQUssT0FBTztRQUN4QixJQUFJO1lBQ0YsTUFBTUMsVUFBVSxNQUFNTixnRUFBZ0IsQ0FBQ0csSUFBSUssS0FBSyxDQUFDQyxFQUFFLEVBQ2hEQyxRQUFRLENBQUMsZUFDVEMsSUFBSTtZQUVQLElBQUksQ0FBQ0wsU0FBUztnQkFDWixPQUFPRixJQUFJUSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFQyxTQUFTO2dCQUFvQjtZQUM3RDtZQUVBVixJQUFJUSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDUDtRQUN2QixFQUFFLE9BQU9TLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLDJCQUEyQkE7WUFDekNYLElBQUlRLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLFNBQVM7Z0JBQTBCQztZQUFNO1FBQ2xFO0lBQ0YsT0FDSyxJQUFJWixJQUFJRSxNQUFNLEtBQUssU0FBUztRQUMvQixJQUFJO1lBQ0YsTUFBTSxFQUFFSSxFQUFFLEVBQUUsR0FBR04sSUFBSUssS0FBSztZQUN4QixNQUFNLEVBQUVJLE1BQU0sRUFBRSxHQUFHVCxJQUFJYyxJQUFJO1lBRTNCRCxRQUFRRSxHQUFHLENBQUMsNEJBQTRCVCxJQUFJRztZQUU1QyxNQUFNTyxpQkFBaUIsTUFBTW5CLHlFQUF5QixDQUNwRFMsSUFDQTtnQkFBRUc7WUFBTyxHQUNUO2dCQUFFUyxLQUFLO1lBQUssR0FDWlgsUUFBUSxDQUFDO1lBRVgsSUFBSSxDQUFDUyxnQkFBZ0I7Z0JBQ25CLE9BQU9mLElBQUlRLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQUVFLE9BQU87Z0JBQW9CO1lBQzNEO1lBRUEsSUFBSTtnQkFDRixxRUFBcUU7Z0JBQ3JFLE1BQU1PLEtBQUtyQixrREFBS0E7Z0JBQ2hCZSxRQUFRRSxHQUFHLENBQUMsMkNBQTJDVDtnQkFDdkRhLEdBQUdDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsRUFBRWQsR0FBRyxDQUFDLEVBQUVlLElBQUksQ0FBQyxvQkFBb0I7b0JBQUVDLFdBQVdoQjtnQkFBRztZQUNsRSxFQUFFLE9BQU9pQixhQUFhO2dCQUNwQlYsUUFBUVcsSUFBSSxDQUFDLDRCQUE0QkQ7WUFDekMsbUNBQW1DO1lBQ3JDO1lBRUF0QixJQUFJUSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDTTtRQUN2QixFQUFFLE9BQU9KLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLDJCQUEyQkE7WUFDekNYLElBQUlRLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVFLE9BQU87WUFBMkI7UUFDM0Q7SUFDRixPQUNLO1FBQ0hYLElBQUlRLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztRQUFxQjtJQUN2RDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJpbGxpYW50LXBhZC8uL3NyYy9wYWdlcy9hcGkvaW52b2ljZXMvW2lkXS50cz9mOWFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgY29ubmVjdERCIGZyb20gJ0AvbGliL21vbmdvZGInO1xyXG5pbXBvcnQgSW52b2ljZSBmcm9tICdAL21vZGVscy9JbnZvaWNlJztcclxuaW1wb3J0IHsgZ2V0SU8gfSBmcm9tICdAL2xpYi9zb2NrZXQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcclxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxyXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlXHJcbikge1xyXG4gIGF3YWl0IGNvbm5lY3REQigpO1xyXG5cclxuICBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGludm9pY2UgPSBhd2FpdCBJbnZvaWNlLmZpbmRCeUlkKHJlcS5xdWVyeS5pZClcclxuICAgICAgICAucG9wdWxhdGUoJ2l0ZW1zLmRvZ0lkJylcclxuICAgICAgICAuZXhlYygpO1xyXG5cclxuICAgICAgaWYgKCFpbnZvaWNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ0ludm9pY2Ugbm90IGZvdW5kJyB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oaW52b2ljZSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBpbnZvaWNlOicsIGVycm9yKTtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgZmV0Y2hpbmcgaW52b2ljZScsIGVycm9yIH0pO1xyXG4gICAgfVxyXG4gIH0gXHJcbiAgZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ1BBVENIJykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBpZCB9ID0gcmVxLnF1ZXJ5O1xyXG4gICAgICBjb25zdCB7IHN0YXR1cyB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygnVXBkYXRpbmcgaW52b2ljZSBzdGF0dXM6JywgaWQsIHN0YXR1cyk7XHJcblxyXG4gICAgICBjb25zdCB1cGRhdGVkSW52b2ljZSA9IGF3YWl0IEludm9pY2UuZmluZEJ5SWRBbmRVcGRhdGUoXHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgeyBzdGF0dXMgfSxcclxuICAgICAgICB7IG5ldzogdHJ1ZSB9XHJcbiAgICAgICkucG9wdWxhdGUoJ2l0ZW1zLmRvZ0lkJyk7XHJcblxyXG4gICAgICBpZiAoIXVwZGF0ZWRJbnZvaWNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdJbnZvaWNlIG5vdCBmb3VuZCcgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gVHJ5IHRvIGVtaXQgc29ja2V0IGV2ZW50LCBidXQgZG9uJ3QgZmFpbCBpZiBzb2NrZXQgaXNuJ3QgYXZhaWxhYmxlXHJcbiAgICAgICAgY29uc3QgaW8gPSBnZXRJTygpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdFbWl0dGluZyBwYXltZW50IGNvbmZpcm1hdGlvbiBmcm9tIEFQSTonLCBpZCk7XHJcbiAgICAgICAgaW8udG8oYGludm9pY2UtJHtpZH1gKS5lbWl0KCdwYXltZW50Q29uZmlybWVkJywgeyBpbnZvaWNlSWQ6IGlkIH0pO1xyXG4gICAgICB9IGNhdGNoIChzb2NrZXRFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignU29ja2V0LklPIG5vdCBhdmFpbGFibGU6Jywgc29ja2V0RXJyb3IpO1xyXG4gICAgICAgIC8vIENvbnRpbnVlIHdpdGhvdXQgc29ja2V0IGVtaXNzaW9uXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVwZGF0ZWRJbnZvaWNlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGludm9pY2U6JywgZXJyb3IpO1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIHVwZGF0ZSBpbnZvaWNlJyB9KTtcclxuICAgIH1cclxuICB9IFxyXG4gIGVsc2Uge1xyXG4gICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcclxuICB9XHJcbn0gIl0sIm5hbWVzIjpbImNvbm5lY3REQiIsIkludm9pY2UiLCJnZXRJTyIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJpbnZvaWNlIiwiZmluZEJ5SWQiLCJxdWVyeSIsImlkIiwicG9wdWxhdGUiLCJleGVjIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJlcnJvciIsImNvbnNvbGUiLCJib2R5IiwibG9nIiwidXBkYXRlZEludm9pY2UiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIm5ldyIsImlvIiwidG8iLCJlbWl0IiwiaW52b2ljZUlkIiwic29ja2V0RXJyb3IiLCJ3YXJuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/invoices/[id].ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Finvoices%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cinvoices%5C%5Bid%5D.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();